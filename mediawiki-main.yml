---
- hosts: "{{ target_hosts | default('all') }}"
  gather_facts: true
  become: true
  vars:
    nginx_reverse_proxy_app: mediawiki
    nginx_reverse_proxy_app_listen_port: 8080
    pod_name: mediawiki
    sysacct_name: mediawiki
    sysacct_uid: 967 # change this depending on disposition of existing system accounts
    mediawiki_site_name: MyWiki
  roles:
  - almalinux-8-base
  - podman-systemd
  - mysql-podman-systemd
  - mediawiki-podman-systemd
  - nginx-reverse-proxy